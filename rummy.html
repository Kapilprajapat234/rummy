<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rummy Gaming</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Arial', sans-serif;
}

body {
    background-color: #1a1a2e;
    color: #fff;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background-color: #16213e;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.logo h1 {
    color: #f1c40f;
    font-size: 1.8rem;
}

nav ul {
    display: flex;
    list-style: none;
}

nav ul li {
    margin-left: 1.5rem;
}

nav ul li a {
    color: #fff;
    text-decoration: none;
    font-weight: bold;
    padding: 0.5rem 1rem;
    border-radius: 5px;
    transition: all 0.3s ease;
}

nav ul li a:hover {
    background-color: #f1c40f;
    color: #16213e;
}

/* Main content */
main {
    padding: 2rem;
}

.games-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2rem;
    margin-top: 2rem;
}

.game-card {
    background-color: #16213e;
    border-radius: 10px;
    overflow: hidden;
    width: 300px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease;
}

.game-card:hover {
    transform: translateY(-10px);
}

.game-thumb img {
    width: 100%;
    height: 200px;
    object-fit: cover;
}

.game-info {
    padding: 1.5rem;
    text-align: center;
}

.game-info h2 {
    color: #f1c40f;
    margin-bottom: 0.5rem;
}

.game-info p {
    margin-bottom: 1.5rem;
    color: #ddd;
}

.play-btn {
    background-color: #f1c40f;
    color: #16213e;
    border: none;
    padding: 0.8rem 1.5rem;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.play-btn:hover {
    background-color: #e67e22;
}

/* Modal Styles */
.modal {
    display: none;
    position: fixed;
    z-index: 100;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
}

.modal-content {
    background-color: #16213e;
    margin: 5% auto;
    padding: 2rem;
    border-radius: 10px;
    width: 90%;
    max-width: 500px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    position: relative;
}

.close {
    position: absolute;
    right: 1.5rem;
    top: 1rem;
    font-size: 1.8rem;
    cursor: pointer;
    color: #f1c40f;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: bold;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 0.8rem;
    border-radius: 5px;
    border: 1px solid #444;
    background-color: #1a1a2e;
    color: #fff;
}

form button {
    background-color: #f1c40f;
    color: #16213e;
    border: none;
    padding: 0.8rem 1.5rem;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    margin-top: 1rem;
}

form button:hover {
    background-color: #e67e22;
}

/* Help modal specific styles */
.help-section,
.contact-section {
    margin-bottom: 2rem;
}

.faq-item {
    margin-bottom: 1rem;
}

.faq-item h4 {
    color: #f1c40f;
    margin-bottom: 0.5rem;
}

/* Game Interface Styles */
.game-interface {
    display: none;
    position: fixed;
    z-index: 150;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: #0f172a;
    padding: 1rem;
}

.game-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.game-header h2 {
    color: #f1c40f;
}

.close-game {
    background: none;
    border: none;
    color: #f1c40f;
    font-size: 2rem;
    cursor: pointer;
}

/* Aviator Game Styles */
.game-screen {
    background-color: #1a1a2e;
    height: 300px;
    position: relative;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 1rem;
}

.airplane {
    position: absolute;
    left: 10%;
    bottom: 10%;
    font-size: 2rem;
    color: #f1c40f;
}

.multiplier {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 3rem;
    font-weight: bold;
    color: #f1c40f;
}

.game-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.bet-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.bet-control input {
    padding: 0.5rem;
    border-radius: 5px;
    border: 1px solid #444;
    background-color: #1a1a2e;
    color: #fff;
    width: 100px;
}

.game-btn {
    background-color: #f1c40f;
    color: #16213e;
    border: none;
    padding: 0.8rem 1.5rem;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
}

.game-btn:disabled {
    background-color: #555;
    cursor: not-allowed;
}

.game-history {
    margin-top: 2rem;
}

.history-items {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    margin-top: 0.5rem;
}

.history-item {
    background-color: #16213e;
    padding: 0.5rem 1rem;
    border-radius: 5px;
    color: #f1c40f;
}

/* Mine Game Styles */
.mine-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
    margin: 1rem 0;
}

.mine-cell {
    background-color: #16213e;
    aspect-ratio: 1;
    border-radius: 5px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5rem;
    cursor: pointer;
}

.mines-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.mines-control select {
    padding: 0.5rem;
    border-radius: 5px;
    border: 1px solid #444;
    background-color: #1a1a2e;
    color: #fff;
}

.multiplier-display {
    text-align: center;
    font-size: 1.2rem;
    margin-top: 1rem;
}

#currentMultiplier {
    color: #f1c40f;
    font-weight: bold;
}

/* Footer Styles */
footer {
    background-color: #16213e;
    padding: 2rem;
    margin-top: 3rem;
}

.footer-content {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 2rem;
}

.footer-section {
    flex: 1;
    min-width: 250px;
}

.footer-section h3 {
    color: #f1c40f;
    margin-bottom: 1rem;
}

.footer-section ul {
    list-style: none;
}

.footer-section ul li {
    margin-bottom: 0.5rem;
}

.footer-section ul li a {
    color: #ddd;
    text-decoration: none;
}

.footer-section ul li a:hover {
    color: #f1c40f;
}

.social-icons {
    display: flex;
    gap: 1rem;
}

.social-icons a {
    color: #ddd;
    font-size: 1.5rem;
}

.social-icons a:hover {
    color: #f1c40f;
}

.footer-bottom {
    text-align: center;
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid #333;
}

/* Responsive Design */
@media (max-width: 768px) {
    header {
        flex-direction: column;
        padding: 1rem;
    }
    
    nav ul {
        margin-top: 1rem;
        flex-wrap: wrap;
        justify-content: center;
    }
    
    nav ul li {
        margin: 0.5rem;
    }
    
    .game-controls {
        flex-direction: column;
        align-items: stretch;
    }
    
    .bet-control, .mines-control {
        justify-content: space-between;
    }
    
    .mine-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 480px) {
    .mine-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <h1>Rummy Gaming</h1>
        </div>
        <div class="balance-box">
            <span>Balance: </span>
            <span id="balanceDisplay">â‚¹0.00</span>
        </div>
        <nav>
            <ul>
                <li><a href="#" id="loginBtn"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                <li><a href="#" id="registerBtn"><i class="fas fa-user-plus"></i> Register</a></li>
                <li><a href="#" id="depositBtn"><i class="fas fa-wallet"></i> Deposit</a></li>
                <li><a href="#" id="withdrawBtn"><i class="fas fa-money-bill-wave"></i> Withdraw</a></li>
                <li><a href="#" id="helpBtn"><i class="fas fa-question-circle"></i> Help</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="games-container">
            <div class="game-card" id="aviator-game">
                <div class="game-thumb">
                    <img src="/api/placeholder/300/200" alt="Aviator Game">
                </div>
                <div class="game-info">
                    <h2>Aviator Game</h2>
                    <p>Try your luck with the exciting Aviator game!</p>
                    <button class="play-btn" onclick="playAviator()">Play Now</button>
                </div>
            </div>

            <div class="game-card" id="mine-game">
                <div class="game-thumb">
                    <img src="minegame.html" alt="Mine Game">
                </div>
                <div class="game-info">
                    <h2>Mine Game</h2>
                    <p>Discover treasures in our Mine Game!</p>
                    <button class="play-btn" onclick="playMineGame()">Play Now</button>
                </div>
            </div>
        </section>

        <!-- Modal containers -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username or Email</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit">Login</button>
                    <p class="form-note">Don't have an account? <a href="#" id="switchToRegister">Register Now</a></p>
                </form>
            </div>
        </div>

        <div id="registerModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Register</h2>
                <div id="registerFormFields">
                    <form id="registerForm">
                        <div class="form-group">
                            <label for="newUsername">Username</label>
                            <input type="text" id="newUsername" name="newUsername" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phoneNumber">Phone Number</label>
                            <input type="tel" id="phoneNumber" name="phoneNumber" pattern="[0-9]{10}" required>
                        </div>
                        <div class="form-group">
                            <label for="newPassword">Password</label>
                            <input type="password" id="newPassword" name="newPassword" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm Password</label>
                            <input type="password" id="confirmPassword" name="confirmPassword" required>
                        </div>
                        <button type="submit">Register</button>
                        <p class="form-note">Already have an account? <a href="#" id="switchToLogin">Login Now</a></p>
                    </form>
                </div>
                <div id="otpSection" style="display: none;">
                    <h3>Phone Verification</h3>
                    <p>A verification code has been sent to your phone number.</p>
                    <div class="form-group">
                        <label for="otpInput">Enter OTP</label>
                        <input type="text" id="otpInput" pattern="[0-9]{4}" maxlength="4" required>
                    </div>
                    <button id="verifyOtpBtn">Verify OTP</button>
                    <p>Didn't receive code? <a href="#" id="resendOtp">Resend OTP</a></p>
                </div>
            </div>
        </div>

        <div id="depositModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Deposit</h2>
                <div id="depositFormSection">
                    <form id="depositForm">
                        <div class="form-group">
                            <label for="amount">Amount (Min â‚¹100)</label>
                            <input type="number" id="amount" name="amount" min="100" required>
                        </div>
                        <div class="form-group">
                            <label for="paymentMethod">Payment Method</label>
                            <select id="paymentMethod" name="paymentMethod">
                                <option value="upi">UPI</option>
                                <option value="netbanking">Net Banking</option>
                                <option value="card">Credit/Debit Card</option>
                            </select>
                        </div>
                        <button type="submit">Proceed to Payment</button>
                    </form>
                </div>
                <div id="qrCodeSection" style="display: none;">
                    <h3>Scan QR Code to Pay</h3>
                    <p>Amount: <span id="depositAmount">â‚¹0</span></p>
                    <div class="qr-code-container">
                        <img src="/api/placeholder/200/200" alt="Payment QR Code">
                    </div>
                    <p>Please scan this QR code using any UPI app to make payment</p>
                    <div class="payment-instructions">
                        <p>1. Open your UPI app (Google Pay, PhonePe, PayTM, etc.)</p>
                        <p>2. Scan the QR code</p>
                        <p>3. Enter the amount and confirm payment</p>
                        <p>4. Click on "I've Paid" button below after successful payment</p>
                    </div>
                    <button id="confirmDeposit">I've Paid</button>
                </div>
            </div>
        </div>

        <div id="withdrawModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Withdraw</h2>
                <form id="withdrawForm">
                    <div class="form-group">
                        <label for="withdrawAmount">Amount (Min â‚¹100)</label>
                        <input type="number" id="withdrawAmount" name="withdrawAmount" min="100" required>
                    </div>
                    <div class="form-group">
                        <label for="upiId">UPI ID</label>
                        <input type="text" id="upiId" name="upiId" placeholder="example@upi" required>
                    </div>
                    <p class="form-note">Withdrawal will be processed within 24 hours</p>
                    <button type="submit">Request Withdrawal</button>
                </form>
            </div>
        </div>

        <div id="helpModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Help & Support</h2>
                <div class="help-section">
                    <h3>Frequently Asked Questions</h3>
                    <div class="faq-item">
                        <h4>How to play Rummy?</h4>
                        <p>Rummy is a card game where the objective is to form valid sequences and sets. A valid sequence is three or more consecutive cards of the same suit. A valid set consists of three or four cards of the same rank but different suits.</p>
                    </div>
                    <div class="faq-item">
                        <h4>How to deposit money?</h4>
                        <p>Click on the deposit button in the navigation bar and follow the on-screen instructions to add money to your account using UPI, Net Banking, or cards.</p>
                    </div>
                    <div class="faq-item">
                        <h4>How to withdraw winnings?</h4>
                        <p>Click on the withdraw button and enter your UPI ID and the amount you wish to withdraw. The amount will be credited to your account within 24 hours.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Game rules for Aviator</h4>
                        <p>Aviator is a multiplier game where you place a bet and watch the multiplier increase. Cash out before the plane flies away to win your bet multiplied by the current multiplier.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Game rules for Mine Game</h4>
                        <p>Mine Game is a grid-based game where you need to avoid mines and find gems. Each revealed gem increases your multiplier. Cash out anytime to secure your winnings.</p>
                    </div>
                </div>
                <div class="contact-section">
                    <h3>Contact Us</h3>
                    <p>Email: support@rummygaming.com</p>
                    <p>Phone: +91 9876543210</p>
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="contactEmail">Your Email</label>
                            <input type="email" id="contactEmail" name="contactEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" name="message" rows="4" required></textarea>
                        </div>
                        <button type="submit">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section about">
                <h3>About Rummy Gaming</h3>
                <p>Rummy Gaming is a premier online gaming platform offering exciting card games and more. Play responsibly and enjoy our secure gaming environment.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-telegram"></i></a>
                </div>
            </div>
            <div class="footer-section links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Games</a></li>
                    <li><a href="#">Promotions</a></li>
                    <li><a href="#">Responsible Gaming</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-section payment">
                <h3>Payment Methods</h3>
                <div class="payment-methods">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-paypal"></i>
                    <i class="fab fa-google-pay"></i>
                    <i class="fab fa-amazon-pay"></i>
                </div>
                <p>We accept all major payment methods. Your transactions are 100% secure.</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Rummy Gaming. All rights reserved.</p>
            <p class="disclaimer">This platform is for entertainment purposes only. Players must be 18+ years of age. Play responsibly.</p>
        </div>
    </footer>

    <script>
        // Modal functionality
const modalBtns = {
    loginBtn: document.getElementById('loginBtn'),
    registerBtn: document.getElementById('registerBtn'),
    depositBtn: document.getElementById('depositBtn'),
    withdrawBtn: document.getElementById('withdrawBtn'),
    helpBtn: document.getElementById('helpBtn')
};

const modals = {
    loginModal: document.getElementById('loginModal'),
    registerModal: document.getElementById('registerModal'),
    depositModal: document.getElementById('depositModal'),
    withdrawModal: document.getElementById('withdrawModal'),
    helpModal: document.getElementById('helpModal')
};

// User balance (in-memory for demo)
let userBalance = 0.00;
let loggedIn = false;
let currentUsername = "";

// Update balance display
function updateBalanceDisplay() {
    const balanceDisplay = document.getElementById('balanceDisplay');
    if(balanceDisplay) {
        balanceDisplay.textContent = `â‚¹${userBalance.toFixed(2)}`;
    }
}

// Initial balance update
document.addEventListener('DOMContentLoaded', () => {
    updateBalanceDisplay();
});

// Open modals
Object.keys(modalBtns).forEach(key => {
    const btn = modalBtns[key];
    const modalName = key.replace('Btn', 'Modal');
    const modal = modals[modalName];
    
    if (btn && modal) {
        btn.addEventListener('click', () => {
            modal.style.display = 'block';
        });
    }
});

// Close modals
document.querySelectorAll('.close').forEach(closeBtn => {
    closeBtn.addEventListener('click', () => {
        Object.values(modals).forEach(modal => {
            modal.style.display = 'none';
        });
        // Hide QR code when deposit modal is closed
        document.getElementById('qrCodeSection').style.display = 'none';
        document.getElementById('depositFormSection').style.display = 'block';
    });
});

// Close modal when clicking outside
window.addEventListener('click', (event) => {
    Object.values(modals).forEach(modal => {
        if (event.target === modal) {
            modal.style.display = 'none';
            // Hide QR code when deposit modal is closed
            document.getElementById('qrCodeSection').style.display = 'none';
            document.getElementById('depositFormSection').style.display = 'block';
        }
    });
});

// Login form submission
document.getElementById('loginForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    // In a real app, you would verify credentials with backend
    if (username && password) {
        loggedIn = true;
        currentUsername = username;
        document.getElementById('loginBtn').textContent = username;
        document.getElementById('loginModal').style.display = 'none';
        
        // Show welcome message
        alert(`Welcome back, ${username}!`);
        document.getElementById('loginForm').reset();
    } else {
        alert('Please enter both username and password.');
    }
});

// Register form submission
document.getElementById('registerForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const username = document.getElementById('newUsername').value;
    const email = document.getElementById('email').value;
    const password = document.getElementById('newPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    const phone = document.getElementById('phoneNumber').value;
    
    // Password validation
    if (password !== confirmPassword) {
        alert('Passwords do not match!');
        return;
    }
    
    // Email validation
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        alert('Please enter a valid email address!');
        return;
    }
    
    // Phone validation
    const phoneRegex = /^[0-9]{10}$/;
    if (!phoneRegex.test(phone)) {
        alert('Please enter a valid 10-digit phone number!');
        return;
    }
    
    // Send OTP for verification (simulated)
    const otp = Math.floor(1000 + Math.random() * 9000); // 4-digit OTP
    document.getElementById('otpSection').style.display = 'block';
    document.getElementById('registerFormFields').style.display = 'none';
    
    // Store OTP in session (in a real app this would be server-side)
    window.sessionStorage.setItem('currentOTP', otp.toString());
    alert(`Your OTP is: ${otp} (In a real app, this would be sent to your phone)`);
});

// OTP verification
document.getElementById('verifyOtpBtn').addEventListener('click', () => {
    const enteredOtp = document.getElementById('otpInput').value;
    const storedOtp = window.sessionStorage.getItem('currentOTP');
    
    if (enteredOtp === storedOtp) {
        alert('Registration successful! You can now login.');
        
        // Reset register form and close modal
        document.getElementById('registerForm').reset();
        document.getElementById('otpSection').style.display = 'none';
        document.getElementById('registerFormFields').style.display = 'block';
        document.getElementById('registerModal').style.display = 'none';
    } else {
        alert('Invalid OTP. Please try again.');
    }
});

// Deposit form submission
document.getElementById('depositForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const amount = document.getElementById('amount').value;
    const paymentMethod = document.getElementById('paymentMethod').value;
    
    if (!loggedIn) {
        alert('Please login first to make a deposit.');
        return;
    }
    
    if (amount < 100) {
        alert('Minimum deposit amount is â‚¹100');
        return;
    }
    
    // Show QR code for payment
    document.getElementById('depositFormSection').style.display = 'none';
    document.getElementById('qrCodeSection').style.display = 'block';
    document.getElementById('depositAmount').textContent = `â‚¹${amount}`;
});

// Confirm deposit (after QR code scan)
document.getElementById('confirmDeposit').addEventListener('click', () => {
    const amount = parseFloat(document.getElementById('amount').value);
    
    // In a real app, you would verify payment with backend
    // For demo purposes, we'll just add the amount to balance
    userBalance += amount;
    updateBalanceDisplay();
    
    alert(`Deposit of â‚¹${amount} successful! Your new balance is â‚¹${userBalance.toFixed(2)}`);
    
    // Reset form and close modal
    document.getElementById('depositForm').reset();
    document.getElementById('qrCodeSection').style.display = 'none';
    document.getElementById('depositFormSection').style.display = 'block';
    document.getElementById('depositModal').style.display = 'none';
});

// Withdraw form submission
document.getElementById('withdrawForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const amount = parseFloat(document.getElementById('withdrawAmount').value);
    const upiId = document.getElementById('upiId').value;
    
    if (!loggedIn) {
        alert('Please login first to make a withdrawal.');
        return;
    }
    
    if (amount < 100) {
        alert('Minimum withdrawal amount is â‚¹100');
        return;
    }
    
    if (amount > userBalance) {
        alert('Insufficient balance for withdrawal');
        return;
    }
    
    // UPI ID validation
    const upiRegex = /^[\w\.\-]+@[\w\-]+$/;
    if (!upiRegex.test(upiId)) {
        alert('Please enter a valid UPI ID');
        return;
    }
    
    // In a real app, you would process withdrawal with backend
    // For demo purposes, we'll just subtract the amount from balance
    userBalance -= amount;
    updateBalanceDisplay();
    
    alert(`Withdrawal request of â‚¹${amount} to ${upiId} has been processed! Your new balance is â‚¹${userBalance.toFixed(2)}`);
    
    // Reset form and close modal
    document.getElementById('withdrawForm').reset();
    document.getElementById('withdrawModal').style.display = 'none';
});

// Help form submission
document.getElementById('contactForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const email = document.getElementById('contactEmail').value;
    const message = document.getElementById('message').value;
    
    // In a real app, you would send this to backend
    alert('Your message has been sent! Our support team will contact you soon.');
    
    // Reset form
    document.getElementById('contactForm').reset();
});

// Aviator Game
const aviatorGameInterface = document.getElementById('aviatorGameInterface');
const placeBetBtn = document.getElementById('placeBetBtn');
const cashoutBtn = document.getElementById('cashoutBtn');
const airplane = document.querySelector('.airplane');
const multiplierDisplay = document.querySelector('.multiplier');

function playAviator() {
    if (!loggedIn) {
        alert('Please login to play games');
        document.getElementById('loginModal').style.display = 'block';
        return;
    }
    
    aviatorGameInterface.style.display = 'block';
}

document.querySelector('#aviatorGameInterface .close-game').addEventListener('click', () => {
    aviatorGameInterface.style.display = 'none';
    resetAviatorGame();
});

placeBetBtn.addEventListener('click', startAviatorGame);
cashoutBtn.addEventListener('click', cashoutAviator);

let aviatorInterval;
let currentMultiplier = 1.0;
let gameActive = false;
let currentBet = 0;

function startAviatorGame() {
    if (gameActive) return;
    
    // Get bet amount
    currentBet = parseFloat(document.getElementById('betAmount').value);
    
    // Check if bet is valid
    if (isNaN(currentBet) || currentBet <= 0) {
        alert('Please enter a valid bet amount');
        return;
    }
    
    // Check if player has enough balance
    if (currentBet > userBalance) {
        alert('Insufficient balance');
        return;
    }
    
    // Deduct bet from balance
    userBalance -= currentBet;
    updateBalanceDisplay();
    
    gameActive = true;
    
    // Reset
    currentMultiplier = 1.0;
    multiplierDisplay.textContent = currentMultiplier.toFixed(2) + 'x';
    airplane.style.transform = 'translate(0, 0)';
    
    // Disable bet button, enable cashout
    placeBetBtn.disabled = true;
    cashoutBtn.disabled = false;
    
    // Start the game
    aviatorInterval = setInterval(() => {
        // Random crash point between 1.00x and 10.00x
        const crashPoint = 1 + Math.random() * 9;
        
        // Increase multiplier and move plane
        currentMultiplier += 0.01;
        multiplierDisplay.textContent = currentMultiplier.toFixed(2) + 'x';
        
        // Move airplane up and right
        const xMove = (currentMultiplier - 1) * 10;
        const yMove = (currentMultiplier - 1) * -10;
        airplane.style.transform = `translate(${xMove}px, ${yMove}px)`;
        
        // Check if game should crash
        if (currentMultiplier >= crashPoint) {
            crashAviator();
        }
    }, 100);
}

function cashoutAviator() {
    if (!gameActive) return;
    
    // Calculate winnings
    const winnings = currentBet * currentMultiplier;
    
    // Add winnings to balance
    userBalance += winnings;
    updateBalanceDisplay();
    
    alert(`Cashed out at ${currentMultiplier.toFixed(2)}x! You won â‚¹${winnings.toFixed(2)}`);
    
    // Update history
    updateAviatorHistory(currentMultiplier);
    
    // Reset game
    resetAviatorGame();
}

function crashAviator() {
    clearInterval(aviatorInterval);
    gameActive = false;
    
    // Visual indication of crash
    multiplierDisplay.style.color = 'red';
    
    alert(`Crashed at ${currentMultiplier.toFixed(2)}x! You lost â‚¹${currentBet.toFixed(2)}`);
    
    // Update history
    updateAviatorHistory(currentMultiplier);
    
    // Reset after delay
    setTimeout(() => {
        resetAviatorGame();
    }, 1000);
}

function resetAviatorGame() {
    clearInterval(aviatorInterval);
    gameActive = false;
    currentMultiplier = 1.0;
    multiplierDisplay.textContent = currentMultiplier.toFixed(2) + 'x';
    multiplierDisplay.style.color = '#f1c40f';
    placeBetBtn.disabled = false;
    cashoutBtn.disabled = true;
    airplane.style.transform = 'translate(0, 0)';
}

function updateAviatorHistory(value) {
    const historyItems = document.querySelector('.history-items');
    const newHistoryItem = document.createElement('span');
    newHistoryItem.className = 'history-item';
    newHistoryItem.textContent = value.toFixed(2) + 'x';
    
    // Add to beginning and remove oldest if more than 5
    historyItems.prepend(newHistoryItem);
    if (historyItems.children.length > 5) {
        historyItems.removeChild(historyItems.lastChild);
    }
}

// Mine Game
const mineGameInterface = document.getElementById('mineGameInterface');
const mineGrid = document.querySelector('.mine-grid');
const startMineGameBtn = document.getElementById('startMineGameBtn');
const cashoutMineBtn = document.getElementById('cashoutMineBtn');
const currentMultiplierDisplay = document.getElementById('currentMultiplier');

function playMineGame() {
    if (!loggedIn) {
        alert('Please login to play games');
        document.getElementById('loginModal').style.display = 'block';
        return;
    }
    
    mineGameInterface.style.display = 'block';
    setupMineGame();
}

document.querySelector('#mineGameInterface .close-game').addEventListener('click', () => {
    mineGameInterface.style.display = 'none';
    resetMineGame();
});

startMineGameBtn.addEventListener('click', startMineGame);
cashoutMineBtn.addEventListener('click', cashoutMineGame);

let mineGameActive = false;
let minePositions = [];
let revealedCells = 0;
let mineMultiplier = 1.0;
let mineBet = 0;

function setupMineGame() {
    // Clear previous grid
    mineGrid.innerHTML = '';
    
    // Create 5x5 grid
    for (let i = 0; i < 25; i++) {
        const cell = document.createElement('div');
        cell.className = 'mine-cell';
        cell.dataset.index = i;
        cell.addEventListener('click', () => revealCell(i));
        mineGrid.appendChild(cell);
    }
    
    resetMineGame();
}

function startMineGame() {
    if (mineGameActive) return;
    
    // Get bet amount and mines count
    mineBet = parseFloat(document.getElementById('mineBetAmount').value);
    const minesCount = parseInt(document.getElementById('minesCount').value);
    
    // Check if bet is valid
    if (isNaN(mineBet) || mineBet <= 0) {
        alert('Please enter a valid bet amount');
        return;
    }
    
    // Check if player has enough balance
    if (mineBet > userBalance) {
        alert('Insufficient balance');
        return;
    }
    
    // Deduct bet from balance
    userBalance -= mineBet;
    updateBalanceDisplay();
    
    // Reset game state
    mineGameActive = true;
    revealedCells = 0;
    mineMultiplier = 1.0;
    currentMultiplierDisplay.textContent = mineMultiplier.toFixed(2) + 'x';
    
    // Place mines randomly
    minePositions = [];
    while (minePositions.length < minesCount) {
        const position = Math.floor(Math.random() * 25);
        if (!minePositions.includes(position)) {
            minePositions.push(position);
        }
    }
    
    // Reset grid
    document.querySelectorAll('.mine-cell').forEach(cell => {
        cell.textContent = '';
        cell.style.backgroundColor = '#16213e';
        cell.style.color = '#fff';
    });
    
    // Update buttons
    startMineGameBtn.disabled = true;
    cashoutMineBtn.disabled = false;
}

function revealCell(index) {
    if (!mineGameActive) return;
    
    const cell = document.querySelector(`.mine-cell[data-index="${index}"]`);
    
    // Check if cell already revealed
    if (cell.textContent !== '') return;
    
    // Check if cell contains mine
    if (minePositions.includes(index)) {
        // Game over - hit a mine
        cell.textContent = 'ðŸ’£';
        cell.style.backgroundColor = '#e74c3c';
        
        // Reveal all mines
        minePositions.forEach(pos => {
            const mineCell = document.querySelector(`.mine-cell[data-index="${pos}"]`);
            mineCell.textContent = 'ðŸ’£';
            mineCell.style.backgroundColor = '#e74c3c';
        });
        
        alert(`You hit a mine! You lost â‚¹${mineBet.toFixed(2)}`);
        
        // End game
        mineGameActive = false;
        startMineGameBtn.disabled = false;
        cashoutMineBtn.disabled = true;
    } else {
        // Safe cell - reveal gem
        cell.textContent = 'ðŸ’Ž';
        cell.style.backgroundColor = '#2ecc71';
        
        // Increase multiplier
        revealedCells++;
        updateMineMultiplier();
    }
}

function updateMineMultiplier() {
    // Calculate new multiplier based on revealed cells and mine count
    const totalCells = 25;
    const safeCells = totalCells - minePositions.length;
    const multiplierStep = 0.2; // Increase per revealed cell
    
    mineMultiplier = 1 + (revealedCells * multiplierStep);
    currentMultiplierDisplay.textContent = mineMultiplier.toFixed(2) + 'x';
    
    // Check if all safe cells are revealed
    if (revealedCells >= safeCells) {
        cashoutMineGame();
    }
}

function cashoutMineGame() {
    if (!mineGameActive) return;
    
    // Calculate winnings
    const winnings = mineBet * mineMultiplier;
    
    // Add winnings to balance
    userBalance += winnings;
    updateBalanceDisplay();
    
    alert(`Cashed out at ${mineMultiplier.toFixed(2)}x! You won â‚¹${winnings.toFixed(2)}`);
    
    // End game
    mineGameActive = false;
    startMineGameBtn.disabled = false;
    cashoutMineBtn.disabled = true;
}

function resetMineGame() {
    mineGameActive = false;
    minePositions = [];
    revealedCells = 0;
    mineMultiplier = 1.0;
    currentMultiplierDisplay.textContent = mineMultiplier.toFixed(2) + 'x';
    
    // Reset grid
    document.querySelectorAll('.mine-cell').forEach(cell => {
        cell.textContent = '';
        cell.style.backgroundColor = '#16213e';
    });
    
    // Reset buttons
    startMineGameBtn.disabled = false;
    cashoutMineBtn.disabled = true;
}
    </script>
    <script>
        // Basic script for modal functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Modal functionality
            const modals = document.querySelectorAll('.modal');
            const closeButtons = document.querySelectorAll('.close');
            
            // Open modals
            document.getElementById('loginBtn').addEventListener('click', function() {
                document.getElementById('loginModal').style.display = 'flex';
            });
            
            document.getElementById('registerBtn').addEventListener('click', function() {
                document.getElementById('registerModal').style.display = 'flex';
            });
            
            document.getElementById('depositBtn').addEventListener('click', function() {
                document.getElementById('depositModal').style.display = 'flex';
            });
            
            document.getElementById('withdrawBtn').addEventListener('click', function() {
                document.getElementById('withdrawModal').style.display = 'flex';
            });
            
            document.getElementById('helpBtn').addEventListener('click', function() {
                document.getElementById('helpModal').style.display = 'flex';
            });
            
            // Close modals
            closeButtons.forEach(function(button) {
                button.addEventListener('click', function() {
                    modals.forEach(function(modal) {
                        modal.style.display = 'none';
                    });
                });
            });
            
            // Close when clicking outside the modal
            window.addEventListener('click', function(event) {
                modals.forEach(function(modal) {
                    if (event.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            });
            
            // Switch between login and register
            document.getElementById('switchToRegister').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('loginModal').style.display = 'none';
                document.getElementById('registerModal').style.display = 'flex';
            });
            
            document.getElementById('switchToLogin').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('registerModal').style.display = 'none';
                document.getElementById('loginModal').style.display = 'flex';
            });
            
            // Function for deposit form
            document.getElementById('depositForm').addEventListener('submit', function(e) {
                e.preventDefault();
                document.getElementById('depositFormSection').style.display = 'none';
                document.getElementById('qrCodeSection').style.display = 'block';
                document.getElementById('depositAmount').textContent = 'â‚¹' + document.getElementById('amount').value;
            });
            
            // Function for OTP verification
            document.getElementById('registerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                document.getElementById('registerFormFields').style.display = 'none';
                document.getElementById('otpSection').style.display = 'block';
            });
            
            // Game functions
            window.playAviator = function() {
                alert('Aviator game will be launched soon!');
            };
            
            window.playMineGame = function() {
                alert('Mine game will be launched soon!');
            };
        });
    </script>
</body>
</html>