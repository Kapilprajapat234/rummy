<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RaminoX</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="rummy.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>RaminoX</h1>
        </div>
        <div class="balance-box">
            <span>Balance: </span>
            <span id="balanceDisplay">â‚¹1000.00</span>
        </div>
        <nav>
            <ul>
                <li><a href="#" id="loginBtn"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                <li><a href="#" id="registerBtn"><i class="fas fa-user-plus"></i> Register</a></li>
                <li><a href="#" id="depositBtn"><i class="fas fa-wallet"></i> Deposit</a></li>
                <li><a href="#" id="withdrawBtn"><i class="fas fa-money-bill-wave"></i> Withdraw</a></li>
                <li><a href="#" id="helpBtn"><i class="fas fa-question-circle"></i> Help</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="games-container">
            <div class="game-card" id="aviator-game">
                <div class="game-thumb">
                    <img src="aviator.jpg" alt="Aviator Game">
                </div>
                <div class="game-info">
                    <a href="aviater.html"><button class="play-btn" onclick="playAviator()">Play Now</button></a>    
                </div>
            </div>

            <div class="game-card" id="mine-game">
                <div class="game-thumb">
                    <img src="mine.jpg" alt="Mine Game">
                </div>
                <div class="game-info">
                  <a href="minegame.html"><button class="play-btn" onclick="playMineGame()">Play Now</button></a>  
                </div>
            </div>
            <div class="game-card" id="color prediction">
                <div class="game-thumb">
                    <img src="colorprediction.jpg" alt="color prediction Game">
                </div>
                <div class="game-info">
                  <a href="color_prediction02.html"><button class="play-btn" onclick="playMineGame()">Play Now</button></a>  
                </div>
            </div>
        </section>

        <!-- Modal containers -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username or Email</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit">Login</button>
                    <p class="form-note">Don't have an account? <a href="#" id="switchToRegister">Register Now</a></p>
                </form>
            </div>
        </div>

        <div id="registerModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Register</h2>
                <div id="registerFormFields">
                    <form id="registerForm">
                        <div class="form-group">
                            <label for="newUsername">Username</label>
                            <input type="text" id="newUsername" name="newUsername" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phoneNumber">Phone Number</label>
                            <input type="tel" id="phoneNumber" name="phoneNumber" pattern="[0-9]{10}" required>
                        </div>
                        <div class="form-group">
                            <label for="newPassword">Password</label>
                            <input type="password" id="newPassword" name="newPassword" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm Password</label>
                            <input type="password" id="confirmPassword" name="confirmPassword" required>
                        </div>
                        <button type="submit">Register</button>
                        <p class="form-note">Already have an account? <a href="#" id="switchToLogin">Login Now</a></p>
                    </form>
                </div>
                <div id="otpSection" style="display: none;">
                    <h3>Phone Verification</h3>
                    <p>A verification code has been sent to your phone number.</p>
                    <div class="form-group">
                        <label for="otpInput">Enter OTP</label>
                        <input type="text" id="otpInput" pattern="[0-9]{4}" maxlength="4" required>
                    </div>
                    <button id="verifyOtpBtn">Verify OTP</button>
                    <p>Didn't receive code? <a href="#" id="resendOtp">Resend OTP</a></p>
                </div>
            </div>
        </div>

        <div id="depositModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Deposit</h2>
                <div id="depositFormSection">
                    <form id="depositForm">
                        <div class="form-group">
                            <label for="amount">Amount (Min â‚¹100)</label>
                            <input type="number" id="amount" name="amount" min="100" required>
                        </div>
                        <div class="form-group">
                            <label for="paymentMethod">Payment Method</label>
                            <select id="paymentMethod" name="paymentMethod">
                                <option value="upi">UPI</option>
                                <option value="netbanking">Net Banking</option>
                                <option value="card">Credit/Debit Card</option>
                            </select>
                        </div>
                        <button type="submit">Proceed to Payment</button>
                    </form>
                </div>
                <div id="qrCodeSection" style="display: none;">
                    <h3>Scan QR Code to Pay</h3>
                    <p>Amount: <span id="depositAmount">â‚¹0</span></p>
                    <div class="qr-code-container">
                        <img src="/api/placeholder/200/200" alt="Payment QR Code">
                    </div>
                    <p>Please scan this QR code using any UPI app to make payment</p>
                    <div class="payment-instructions">
                        <p>1. Open your UPI app (Google Pay, PhonePe, PayTM, etc.)</p>
                        <p>2. Scan the QR code</p>
                        <p>3. Enter the amount and confirm payment</p>
                        <p>4. Click on "I've Paid" button below after successful payment</p>
                    </div>
                    <button id="confirmDeposit">I've Paid</button>
                </div>
            </div>
        </div>

        <div id="withdrawModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Withdraw</h2>
                <form id="withdrawForm">
                    <div class="form-group">
                        <label for="withdrawAmount">Amount (Min â‚¹100)</label>
                        <input type="number" id="withdrawAmount" name="withdrawAmount" min="100" required>
                    </div>
                    <div class="form-group">
                        <label for="upiId">UPI ID</label>
                        <input type="text" id="upiId" name="upiId" placeholder="example@upi" required>
                    </div>
                    <p class="form-note">Withdrawal will be processed within 24 hours</p>
                    <button type="submit">Request Withdrawal</button>
                </form>
            </div>
        </div>

        <div id="helpModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Help & Support</h2>
                <div class="help-section">
                    <h3>Frequently Asked Questions</h3>
                    <div class="faq-item">
                        <h4>How to play Rummy?</h4>
                        <p>Rummy is a card game where the objective is to form valid sequences and sets. A valid sequence is three or more consecutive cards of the same suit. A valid set consists of three or four cards of the same rank but different suits.</p>
                    </div>
                    <div class="faq-item">
                        <h4>How to deposit money?</h4>
                        <p>Click on the deposit button in the navigation bar and follow the on-screen instructions to add money to your account using UPI, Net Banking, or cards.</p>
                    </div>
                    <div class="faq-item">
                        <h4>How to withdraw winnings?</h4>
                        <p>Click on the withdraw button and enter your UPI ID and the amount you wish to withdraw. The amount will be credited to your account within 24 hours.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Game rules for Aviator</h4>
                        <p>Aviator is a multiplier game where you place a bet and watch the multiplier increase. Cash out before the plane flies away to win your bet multiplied by the current multiplier.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Game rules for Mine Game</h4>
                        <p>Mine Game is a grid-based game where you need to avoid mines and find gems. Each revealed gem increases your multiplier. Cash out anytime to secure your winnings.</p>
                    </div>
                </div>
                <div class="contact-section">
                    <h3>Contact Us</h3>
                    <p>Email: support@rummygaming.com</p>
                    <p>Phone: +91 9876543210</p>
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="contactEmail">Your Email</label>
                            <input type="email" id="contactEmail" name="contactEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" name="message" rows="4" required></textarea>
                        </div>
                        <button type="submit">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section about">
                <h3>About Rummy Gaming</h3>
                <p>Rummy Gaming is a premier online gaming platform offering exciting card games and more. Play responsibly and enjoy our secure gaming environment.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-telegram"></i></a>
                </div>
            </div>
            <div class="footer-section links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Games</a></li>
                    <li><a href="#">Promotions</a></li>
                    <li><a href="#">Responsible Gaming</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-section payment">
                <h3>Payment Methods</h3>
                <div class="payment-methods">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-paypal"></i>
                    <i class="fab fa-google-pay"></i>
                    <i class="fab fa-amazon-pay"></i>
                </div>
                <p>We accept all major payment methods. Your transactions are 100% secure.</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Rummy Gaming. All rights reserved.</p>
            <p class="disclaimer">This platform is for entertainment purposes only. Players must be 18+ years of age. Play responsibly.</p>
        </div>
    </footer>

    <script>
        // ====== BALANCE HANDLING ======
        // Load balance from localStorage or set to default â‚¹1000.00
        let userBalance = parseFloat(localStorage.getItem("userBalance")) || 1000.00;
        
        function updateBalanceDisplay() {
            const balanceDisplay = document.getElementById('balanceDisplay');
            if(balanceDisplay) {
                balanceDisplay.textContent = `â‚¹${userBalance.toFixed(2)}`;
            }
            localStorage.setItem("userBalance", userBalance.toFixed(2));
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            updateBalanceDisplay();
        });

        // ====== MODAL FUNCTIONALITY ======
        const modalBtns = {
            loginBtn: document.getElementById('loginBtn'),
            registerBtn: document.getElementById('registerBtn'),
            depositBtn: document.getElementById('depositBtn'),
            withdrawBtn: document.getElementById('withdrawBtn'),
            helpBtn: document.getElementById('helpBtn')
        };

        const modals = {
            loginModal: document.getElementById('loginModal'),
            registerModal: document.getElementById('registerModal'),
            depositModal: document.getElementById('depositModal'),
            withdrawModal: document.getElementById('withdrawModal'),
            helpModal: document.getElementById('helpModal')
        };

        let loggedIn = false;
        let currentUsername = "";

        // Open modals
        Object.keys(modalBtns).forEach(key => {
            const btn = modalBtns[key];
            const modalName = key.replace('Btn', 'Modal');
            const modal = modals[modalName];
            
            if (btn && modal) {
                btn.addEventListener('click', () => {
                    modal.style.display = 'block';
                });
            }
        });

        // Close modals
        document.querySelectorAll('.close').forEach(closeBtn => {
            closeBtn.addEventListener('click', () => {
                Object.values(modals).forEach(modal => {
                    modal.style.display = 'none';
                });
                // Reset deposit modal display sections
                document.getElementById('qrCodeSection').style.display = 'none';
                document.getElementById('depositFormSection').style.display = 'block';
            });
        });

        // Close modal when clicking outside
        window.addEventListener('click', (event) => {
            Object.values(modals).forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.getElementById('qrCodeSection').style.display = 'none';
                    document.getElementById('depositFormSection').style.display = 'block';
                }
            });
        });

        // ====== LOGIN ======
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username && password) {
                loggedIn = true;
                currentUsername = username;
                document.getElementById('loginBtn').textContent = username;
                document.getElementById('loginModal').style.display = 'none';
                alert(`Welcome back, ${username}!`);
                document.getElementById('loginForm').reset();
            } else {
                alert('Please enter both username and password.');
            }
        });

        // ====== REGISTER ======
        document.getElementById('registerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('newUsername').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const phone = document.getElementById('phoneNumber').value;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('Please enter a valid email address!');
                return;
            }
            
            const phoneRegex = /^[0-9]{10}$/;
            if (!phoneRegex.test(phone)) {
                alert('Please enter a valid 10-digit phone number!');
                return;
            }
            
            const otp = Math.floor(1000 + Math.random() * 9000);
            document.getElementById('otpSection').style.display = 'block';
            document.getElementById('registerFormFields').style.display = 'none';
            window.sessionStorage.setItem('currentOTP', otp.toString());
            alert(`Your OTP is: ${otp} (In a real app, this would be sent to your phone)`);
        });

        // ====== OTP VERIFICATION ======
        document.getElementById('verifyOtpBtn').addEventListener('click', () => {
            const enteredOtp = document.getElementById('otpInput').value;
            const storedOtp = window.sessionStorage.getItem('currentOTP');
            
            if (enteredOtp === storedOtp) {
                alert('Registration successful! You can now login.');
                document.getElementById('registerForm').reset();
                document.getElementById('otpSection').style.display = 'none';
                document.getElementById('registerFormFields').style.display = 'block';
                document.getElementById('registerModal').style.display = 'none';
            } else {
                alert('Invalid OTP. Please try again.');
            }
        });

        // ====== DEPOSIT ======
        document.getElementById('depositForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const amount = document.getElementById('amount').value;
            const paymentMethod = document.getElementById('paymentMethod').value;
            
            if (!loggedIn) {
                alert('Please login first to make a deposit.');
                return;
            }
            
            if (amount < 100) {
                alert('Minimum deposit amount is â‚¹100');
                return;
            }
            
            document.getElementById('depositFormSection').style.display = 'none';
            document.getElementById('qrCodeSection').style.display = 'block';
            document.getElementById('depositAmount').textContent = `â‚¹${amount}`;
        });

        document.getElementById('confirmDeposit').addEventListener('click', () => {
            const amount = parseFloat(document.getElementById('amount').value);
            userBalance += amount;
            updateBalanceDisplay();
            alert(`Deposit of â‚¹${amount} successful! Your new balance is â‚¹${userBalance.toFixed(2)}`);
            document.getElementById('depositForm').reset();
            document.getElementById('qrCodeSection').style.display = 'none';
            document.getElementById('depositFormSection').style.display = 'block';
            document.getElementById('depositModal').style.display = 'none';
        });

        // ====== WITHDRAW ======
        document.getElementById('withdrawForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            const upiId = document.getElementById('upiId').value;
            
            if (!loggedIn) {
                alert('Please login first to make a withdrawal.');
                return;
            }
            
            if (amount < 100) {
                alert('Minimum withdrawal amount is â‚¹100');
                return;
            }
            
            if (amount > userBalance) {
                alert('Insufficient balance for withdrawal');
                return;
            }
            
            const upiRegex = /^[\w\.\-]+@[\w\-]+$/;
            if (!upiRegex.test(upiId)) {
                alert('Please enter a valid UPI ID');
                return;
            }
            
            userBalance -= amount;
            updateBalanceDisplay();
            alert(`Withdrawal request of â‚¹${amount} to ${upiId} has been processed! Your new balance is â‚¹${userBalance.toFixed(2)}`);
            document.getElementById('withdrawForm').reset();
            document.getElementById('withdrawModal').style.display = 'none';
        });

        // ====== HELP ======
        document.getElementById('contactForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('contactEmail').value;
            const message = document.getElementById('message').value;
            alert('Your message has been sent! Our support team will contact you soon.');
            document.getElementById('contactForm').reset();
        });

        // ====== AVIATOR GAME ======
        const aviatorGameInterface = document.getElementById('aviatorGameInterface');
        const placeBetBtn = document.getElementById('placeBetBtn');
        const cashoutBtn = document.getElementById('cashoutBtn');
        const airplane = document.querySelector('.airplane');
        const multiplierDisplay = document.querySelector('.multiplier');

        function playAviator() {
            if (!loggedIn) {
                alert('Please login to play games');
                document.getElementById('loginModal').style.display = 'block';
                return;
            }
            aviatorGameInterface.style.display = 'block';
        }

        document.querySelector('#aviatorGameInterface .close-game').addEventListener('click', () => {
            aviatorGameInterface.style.display = 'none';
            resetAviatorGame();
        });

        placeBetBtn.addEventListener('click', startAviatorGame);
        cashoutBtn.addEventListener('click', cashoutAviator);

        let aviatorInterval;
        let currentMultiplier = 1.0;
        let gameActive = false;
        let currentBet = 0;

        function startAviatorGame() {
            if (gameActive) return;
            currentBet = parseFloat(document.getElementById('betAmount').value);
            if (isNaN(currentBet) || currentBet <= 0) {
                alert('Please enter a valid bet amount');
                return;
            }
            if (currentBet > userBalance) {
                alert('Insufficient balance');
                return;
            }
            userBalance -= currentBet;
            updateBalanceDisplay();
            gameActive = true;
            currentMultiplier = 1.0;
            multiplierDisplay.textContent = currentMultiplier.toFixed(2) + 'x';
            airplane.style.transform = 'translate(0, 0)';
            placeBetBtn.disabled = true;
            cashoutBtn.disabled = false;
            aviatorInterval = setInterval(() => {
                const crashPoint = 1 + Math.random() * 9;
                currentMultiplier += 0.01;
                multiplierDisplay.textContent = currentMultiplier.toFixed(2) + 'x';
                const xMove = (currentMultiplier - 1) * 10;
                const yMove = (currentMultiplier - 1) * -10;
                airplane.style.transform = `translate(${xMove}px, ${yMove}px)`;
                if (currentMultiplier >= crashPoint) {
                    crashAviator();
                }
            }, 100);
        }

        function cashoutAviator() {
            if (!gameActive) return;
            const winnings = currentBet * currentMultiplier;
            userBalance += winnings;
            updateBalanceDisplay();
            alert(`Cashed out at ${currentMultiplier.toFixed(2)}x! You won â‚¹${winnings.toFixed(2)}`);
            updateAviatorHistory(currentMultiplier);
            resetAviatorGame();
        }

        function crashAviator() {
            clearInterval(aviatorInterval);
            gameActive = false;
            multiplierDisplay.style.color = 'red';
            alert(`Crashed at ${currentMultiplier.toFixed(2)}x! You lost â‚¹${currentBet.toFixed(2)}`);
            updateAviatorHistory(currentMultiplier);
            setTimeout(() => {
                resetAviatorGame();
            }, 1000);
        }

        function resetAviatorGame() {
            clearInterval(aviatorInterval);
            gameActive = false;
            currentMultiplier = 1.0;
            multiplierDisplay.textContent = currentMultiplier.toFixed(2) + 'x';
            multiplierDisplay.style.color = '#f1c40f';
            placeBetBtn.disabled = false;
            cashoutBtn.disabled = true;
            airplane.style.transform = 'translate(0, 0)';
        }

        function updateAviatorHistory(value) {
            const historyItems = document.querySelector('.history-items');
            const newHistoryItem = document.createElement('span');
            newHistoryItem.className = 'history-item';
            newHistoryItem.textContent = value.toFixed(2) + 'x';
            historyItems.prepend(newHistoryItem);
            if (historyItems.children.length > 5) {
                historyItems.removeChild(historyItems.lastChild);
            }
        }

        // ====== MINE GAME ======
        const mineGameInterface = document.getElementById('mineGameInterface');
        const mineGrid = document.querySelector('.mine-grid');
        const startMineGameBtn = document.getElementById('startMineGameBtn');
        const cashoutMineBtn = document.getElementById('cashoutMineBtn');
        const currentMultiplierDisplay = document.getElementById('currentMultiplier');

        function playMineGame() {
            if (!loggedIn) {
                alert('Please login to play games');
                document.getElementById('loginModal').style.display = 'block';
                return;
            }
            mineGameInterface.style.display = 'block';
            setupMineGame();
        }

        document.querySelector('#mineGameInterface .close-game').addEventListener('click', () => {
            mineGameInterface.style.display = 'none';
            resetMineGame();
        });

        startMineGameBtn.addEventListener('click', startMineGame);
        cashoutMineBtn.addEventListener('click', cashoutMineGame);

        let mineGameActive = false;
        let minePositions = [];
        let revealedCells = 0;
        let mineMultiplier = 1.0;
        let mineBet = 0;

        function setupMineGame() {
            mineGrid.innerHTML = '';
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement('div');
                cell.className = 'mine-cell';
                cell.dataset.index = i;
                cell.addEventListener('click', () => revealCell(i));
                mineGrid.appendChild(cell);
            }
            resetMineGame();
        }

        function startMineGame() {
            if (mineGameActive) return;
            mineBet = parseFloat(document.getElementById('mineBetAmount').value);
            const minesCount = parseInt(document.getElementById('minesCount').value);
            if (isNaN(mineBet) || mineBet <= 0) {
                alert('Please enter a valid bet amount');
                return;
            }
            if (mineBet > userBalance) {
                alert('Insufficient balance');
                return;
            }
            userBalance -= mineBet;
            updateBalanceDisplay();
            mineGameActive = true;
            revealedCells = 0;
            mineMultiplier = 1.0;
            currentMultiplierDisplay.textContent = mineMultiplier.toFixed(2) + 'x';
            minePositions = [];
            while (minePositions.length < minesCount) {
                const position = Math.floor(Math.random() * 25);
                if (!minePositions.includes(position)) {
                    minePositions.push(position);
                }
            }
            document.querySelectorAll('.mine-cell').forEach(cell => {
                cell.textContent = '';
                cell.style.backgroundColor = '#16213e';
                cell.style.color = '#fff';
            });
            startMineGameBtn.disabled = true;
            cashoutMineBtn.disabled = false;
        }

        function revealCell(index) {
            if (!mineGameActive) return;
            const cell = document.querySelector(`.mine-cell[data-index="${index}"]`);
            if (cell.textContent !== '') return;
            if (minePositions.includes(index)) {
                cell.textContent = 'ðŸ’£';
                cell.style.backgroundColor = '#e74c3c';
                minePositions.forEach(pos => {
                    const mineCell = document.querySelector(`.mine-cell[data-index="${pos}"]`);
                    mineCell.textContent = 'ðŸ’£';
                    mineCell.style.backgroundColor = '#e74c3c';
                });
                alert(`You hit a mine! You lost â‚¹${mineBet.toFixed(2)}`);
                mineGameActive = false;
                startMineGameBtn.disabled = false;
                cashoutMineBtn.disabled = true;
            } else {
                cell.textContent = 'ðŸ’Ž';
                cell.style.backgroundColor = '#2ecc71';
                revealedCells++;
                updateMineMultiplier();
            }
        }

        function updateMineMultiplier() {
            const totalCells = 25;
            const safeCells = totalCells - minePositions.length;
            const multiplierStep = 0.2;
            mineMultiplier = 1 + (revealedCells * multiplierStep);
            currentMultiplierDisplay.textContent = mineMultiplier.toFixed(2) + 'x';
            if (revealedCells >= safeCells) {
                cashoutMineGame();
            }
        }

        function cashoutMineGame() {
            if (!mineGameActive) return;
            const winnings = mineBet * mineMultiplier;
            userBalance += winnings;
            updateBalanceDisplay();
            alert(`Cashed out at ${mineMultiplier.toFixed(2)}x! You won â‚¹${winnings.toFixed(2)}`);
            mineGameActive = false;
            startMineGameBtn.disabled = false;
            cashoutMineBtn.disabled = true;
        }

        function resetMineGame() {
            mineGameActive = false;
            minePositions = [];
            revealedCells = 0;
            mineMultiplier = 1.0;
            currentMultiplierDisplay.textContent = mineMultiplier.toFixed(2) + 'x';
            document.querySelectorAll('.mine-cell').forEach(cell => {
                cell.textContent = '';
                cell.style.backgroundColor = '#16213e';
            });
            startMineGameBtn.disabled = false;
            cashoutMineBtn.disabled = true;
        }
    </script>
    <script src="rummy.js"></script>
</body>
</html>
